

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>クエリビルダクラス &mdash; CodeIgniter 3.2.0-dev ドキュメント</title>
  

  
  
    <link rel="shortcut icon" href="../_static/ci-icon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/citheme.css" type="text/css" />
  

  
    <link rel="top" title="CodeIgniter 3.2.0-dev ドキュメント" href="../index.html"/>
        <link rel="up" title="データベースリファレンス" href="index.html"/>
        <link rel="next" title="トランザクション" href="transactions.html"/>
        <link rel="prev" title="クエリヘルパーメソッド" href="helpers.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div id="nav">
  <div id="nav_inner">
    
    
    
      <div id="pulldown-menu" class="ciNav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">CodeIgniter へようこそ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">インストール方法</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">CodeIgniter のダウンロード</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">インストール方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">以前のバージョンからのアップグレード</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">トラブルシューティング</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">CodeIgniter 概要</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">CodeIgniter をはじめよう</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">CodeIgniter の簡単な紹介</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">CodeIgniter の機能</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">アプリケーションフローチャート</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">設計とアーキテクチャのゴール</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">チュートリアル</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">静的なページ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">ニュースセクション</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">ニュース記事を作成</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">おわりに</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">CodeIgniter への貢献</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">CodeIgniter のドキュメントを書く</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Developer&#8217;s Certificate of Origin 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">一般的なトピック</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">CodeIgniter の URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">コントローラ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">予約語</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">ビュー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">モデル</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">CodeIgniter のライブラリの利用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">ライブラリの作成</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">CodeIgniter のドライバを使う</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">ドライバの作成</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">コアシステムクラスの作成</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">補助的なクラス作成</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">フック――フレームワークコアの拡張</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">リソースのオートロード</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">共通関数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">互換関数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">URI ルーティング</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">エラー処理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">キャッシュ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">アプリケーションのプロファイリング</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">CLI で実行する</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">アプリケーションの管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">複数環境への対応</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">ビューファイルでの PHP の代替構文</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">セキュリティ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">PHP スタイルガイド</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">ライブラリ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../libraries/benchmark.html">ベンチマーククラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/caching.html">キャッシングドライバ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/calendar.html">カレンダークラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/cart.html">ショッピングカートクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/config.html">設定クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/email.html">Email クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/encrypt.html">Encrypt クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/encryption.html">Encryption ライブラリ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/file_uploading.html">ファイルアップロードクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/form_validation.html">フォームバリデーション（検証）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/ftp.html">FTP クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/image_lib.html">画像操作クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/input.html">入力クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/javascript.html">JavaScript クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/language.html">言語クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/loader.html">ローダ（読み込み処理）クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/migration.html">マイグレーションクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/output.html">出力クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/pagination.html">ページネーションクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/parser.html">テンプレートパーサクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/security.html">セキュリティクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/sessions.html">セッションライブラリ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/table.html">HTML テーブルクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/trackback.html">トラックバッククラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/typography.html">タイポグラフィークラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/unit_testing.html">ユニットテストクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html">URI クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/user_agent.html">ユーザエージェントクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/xmlrpc.html">XML-RPC および XML-RPC サーバクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/zip.html">Zip 圧縮クラス</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">データベースリファレンス</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="examples.html">クイックスタート: 使用例</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">データベース設定</a></li>
<li class="toctree-l2"><a class="reference internal" href="connecting.html">データベースへの接続</a></li>
<li class="toctree-l2"><a class="reference internal" href="queries.html">クエリの実行</a></li>
<li class="toctree-l2"><a class="reference internal" href="results.html">クエリ結果の生成</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers.html">クエリヘルパー関数</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">クエリビルダクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="transactions.html">トランザクション</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html">メタデータの取得</a></li>
<li class="toctree-l2"><a class="reference internal" href="call_function.html">カスタム関数呼び出し</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">クエリキャッシュ</a></li>
<li class="toctree-l2"><a class="reference internal" href="forge.html">データベースフォージを使用したデータベース操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html">データベースユーティリティクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="db_driver_reference.html">データベースドライバリファレンス</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">ヘルパー</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">配列ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">キャプチャ ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Cookie ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">日付ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">ディレクトリヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">ダウンロードヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Email ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">ファイルヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">フォームヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">HTML ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">語形変換ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">言語ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">数字ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">パスヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">セキュリティヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">スマイリーヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">文字列ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">テキストヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">タイポグラフィーヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">URL ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">XML ヘルパー</a></li>
</ul>
</li>
</ul>

      </div>
    
      
  </div>
</div>
<div id="nav2">
  <a href="#" id="openToc">
    <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAARgAA/+4ADkFkb2JlAGTAAAAAAf/bAIQABAMDAwMDBAMDBAYEAwQGBwUEBAUHCAYGBwYGCAoICQkJCQgKCgwMDAwMCgwMDQ0MDBERERERFBQUFBQUFBQUFAEEBQUIBwgPCgoPFA4ODhQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAKwCaAwERAAIRAQMRAf/EAHsAAQAABwEBAAAAAAAAAAAAAAABAwQFBgcIAgkBAQAAAAAAAAAAAAAAAAAAAAAQAAEDAwICBwYEAgsAAAAAAAIBAwQAEQUSBiEHkROTVNQWGDFBUVIUCHEiMtOUFWGBobHRQlMkZIRVEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDSC+ygkOOaUoKigUCgUCgUCgUCgUCgUCgUCgkuGguIP9FBMFb0Hqg7We+3jlmIqqYFf4ub+/QYlnOR/LqIBKGFUbf8qWv971BytQXXE7Y3Lnm3HsFhp2TaZJAdchRXpIgSpdEJWxJEW3xoKV7F5OMy7JkQn2o7D6w33XGjEAkoiqrJEqIiOIiKuhePCgqp22dyYyS3CyWHnQ5joG61HkRnmnTbaFSMhExRVQRRVJU9iUHjE7ez+fJ0MFipmUNhBV8YUd2SoIV9KkjQla9ltegttBdPLW4/qocL+UTfrMiHW4+P9M71shuyrqaHTcxsl7jegpsji8nh5ZwMvDfgTm0RTjSmjYdFCS6KoOIipdFunCgmNYTMv457MMY6U7iI6oMieDDhRm1VbIhuoOkbqtuK0Hpzb+eZcYZexUxt6UyUqK2cd0SdjtgrhOgijcgERUlJOCIl6CpgbP3blRI8XgMjNARAyKNDfeRBdFDBVUAXgQrqH4pxoJTu2NysY97LP4ac1io5q1InHFeGO24LnVKJuKOkSQ/yKir+rh7aCLG1dzypZQI2FnvTgccYOM3FeN0XWERXAUEFVQgQkUktdLpegm+Td3/Xli/L+S/mYNJIOF9G/wBeLKrZHFb0akG6W1WtQWSg3Dyg5e7V3fipE3O4/wCrktyzYA+ufas2LbZIlmnAT2kvuoN1wft95augilglX/tzP3qCu9O3LL/wV/i5v79BvmTADq14UGu91467Z6U9y0HzH/ncj/U/sT/CgynZG7I2NezpZGUjIycJkYkZSG+uQ81pbBNKLxJfjwoMqZ3/ALYHl35AJ7/cuwHcu5k7r1Q5pHetBjquqVVJWGxj9Zrtcl/Ggy3dHMvauR3HFZj5nHNxSyW5JISYDMoIwx8tFIGHZhPNaykGapr6rUAiicEoMG21lMRj8buPAz8xhJrr7uOeiPTCyAwXUaGR1mgozbTusOsFLEiJ7fbQa/h7gcjy2H3V6xppwDNtUSxCJIqp7valBuWVzJ22xuCROXNNZiJkMtms0DbjUkAZjzoDrTMd9dDRI44ZC2YsrYdKWP2WDT2S3N9dNdlRYrGMYc06IURXSYb0igrpWS485xVNS6nF4rwslkoMwnbpgZLB7bmt5uMweAhDEl4B5uSLzzqTnnyVpW2jaJHRMSIjdDiiotvy3DOE5rYTEbkl5yFn28k7JyG4c7AU2HtLH1uKfaiMPI40CdYbpNtmLdwTSn5rewLNld+7TLdeal4WarWBkbVKBjgdElMJJwAAY5fl4kB3b1fp4XvagsGS3FjJfLzDNtS8aeXx7LzT7TyzByQE5PccRGRC0ZRUDRV6y62vbjagzLmJzS2vuPK43JY6aP1TW6Jz+RIWyFtyC06y3EkiiinAo7YCqfq1AqqnGgsOH3lhZO8d1pmcpB8j5XIm9OYlBJSQ/FSS4427DKO0RC8AlcEMhFdViRR1WDWR5t3WXVuL1d106kG9vdeye2g60+1FDyW0shIcXVpyroXt8I8dfd+NB1vioAdWnD3UF1+gD4UFc6CEKpagxXN43rwJLUHz7yX2c8zokt9uHlsPIhA4aRnnHJTLptIS6CNsY7iASpxUUMkReGpfbQW0vtN5pitvrsN28rwtBD0nc0+/Yft5XhaB6TuaXfsP28rwtA9J3NPv2H7eV4Wgek7mn37D9vK8LQPSdzT79h+3leFoHpO5pd+w/byvC0D0nc0u/Yft5XhaB6TuaXfsP28rwtA9J3NLv2H7eV4Wgek7ml37D9vK8LQPSdzS79h+3leFoHpO5p9+w/byvC0E9r7Reazy2HIYVPxkS/CUHVn26cosxyv2g7h89LYmZSXOenvLEQ1YaQ222RATcQCP8rSGqqA8S02W2pQ6FhMoAIlqCtsnwoCpdKClejI4i3Sgtb+GBxVuNBSFt1pV/RQefLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8utJ/koJ7WCbBU/LQXOPAFq1koK8B0pag90CggtBBf6qB0UDooHRQOigdFA6KB0UDooHRQOigdFA6KB0UDooI0EaBQf//Z" title="Toggle Table of Contents" alt="Toggle Table of Contents" />
  </a>
</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> CodeIgniter</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">CodeIgniter へようこそ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">インストール方法</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">CodeIgniter のダウンロード</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">インストール方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">以前のバージョンからのアップグレード</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">トラブルシューティング</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">CodeIgniter 概要</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">CodeIgniter をはじめよう</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">CodeIgniter の簡単な紹介</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">CodeIgniter の機能</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">アプリケーションフローチャート</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">設計とアーキテクチャのゴール</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">チュートリアル</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">静的なページ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">ニュースセクション</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">ニュース記事を作成</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">おわりに</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">CodeIgniter への貢献</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">CodeIgniter のドキュメントを書く</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Developer&#8217;s Certificate of Origin 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">一般的なトピック</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">CodeIgniter の URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">コントローラ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">予約語</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">ビュー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">モデル</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">CodeIgniter のライブラリの利用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">ライブラリの作成</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">CodeIgniter のドライバを使う</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">ドライバの作成</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">コアシステムクラスの作成</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">補助的なクラス作成</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">フック――フレームワークコアの拡張</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">リソースのオートロード</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">共通関数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">互換関数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">URI ルーティング</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">エラー処理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">キャッシュ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">アプリケーションのプロファイリング</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">CLI で実行する</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">アプリケーションの管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">複数環境への対応</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">ビューファイルでの PHP の代替構文</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">セキュリティ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">PHP スタイルガイド</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">ライブラリ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../libraries/benchmark.html">ベンチマーククラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/caching.html">キャッシングドライバ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/calendar.html">カレンダークラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/cart.html">ショッピングカートクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/config.html">設定クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/email.html">Email クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/encrypt.html">Encrypt クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/encryption.html">Encryption ライブラリ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/file_uploading.html">ファイルアップロードクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/form_validation.html">フォームバリデーション（検証）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/ftp.html">FTP クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/image_lib.html">画像操作クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/input.html">入力クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/javascript.html">JavaScript クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/language.html">言語クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/loader.html">ローダ（読み込み処理）クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/migration.html">マイグレーションクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/output.html">出力クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/pagination.html">ページネーションクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/parser.html">テンプレートパーサクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/security.html">セキュリティクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/sessions.html">セッションライブラリ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/table.html">HTML テーブルクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/trackback.html">トラックバッククラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/typography.html">タイポグラフィークラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/unit_testing.html">ユニットテストクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html">URI クラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/user_agent.html">ユーザエージェントクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/xmlrpc.html">XML-RPC および XML-RPC サーバクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/zip.html">Zip 圧縮クラス</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">データベースリファレンス</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="examples.html">クイックスタート: 使用例</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">データベース設定</a></li>
<li class="toctree-l2"><a class="reference internal" href="connecting.html">データベースへの接続</a></li>
<li class="toctree-l2"><a class="reference internal" href="queries.html">クエリの実行</a></li>
<li class="toctree-l2"><a class="reference internal" href="results.html">クエリ結果の生成</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers.html">クエリヘルパー関数</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">クエリビルダクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="transactions.html">トランザクション</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html">メタデータの取得</a></li>
<li class="toctree-l2"><a class="reference internal" href="call_function.html">カスタム関数呼び出し</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">クエリキャッシュ</a></li>
<li class="toctree-l2"><a class="reference internal" href="forge.html">データベースフォージを使用したデータベース操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html">データベースユーティリティクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="db_driver_reference.html">データベースドライバリファレンス</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">ヘルパー</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">配列ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">キャプチャ ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Cookie ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">日付ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">ディレクトリヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">ダウンロードヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Email ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">ファイルヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">フォームヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">HTML ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">語形変換ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">言語ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">数字ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">パスヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">セキュリティヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">スマイリーヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">文字列ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">テキストヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">タイポグラフィーヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">URL ヘルパー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">XML ヘルパー</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">CodeIgniter</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="index.html">データベースリファレンス</a> &raquo;</li>
      
    <li>クエリビルダクラス</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
    <div style="float:right;margin-left:5px;" id="closeMe">
      <img title="Classic Layout" alt="classic layout" src="data:image/gif;base64,R0lGODlhFAAUAJEAAAAAADMzM////wAAACH5BAUUAAIALAAAAAAUABQAAAImlI+py+0PU5gRBRDM3DxbWoXis42X13USOLauUIqnlsaH/eY6UwAAOw==" />
    </div>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="id1">
<h1>クエリビルダクラス<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>CodeIgniter は クエリビルダ データベースパターンの改変版を採用して
います。このパターンを利用すると、情報の取得や挿入、そして更新が最小限
のスクリプティングで可能になります。データベース処理をするのに、たった
1、2行しか必要でない場合さえあります。CodeIgniter ではデータベースごと
に専用のクラスを必要としたりはしません。そのおかげで、より単純化された
インターフェースが提供されています。</p>
<p>クエリビルダ 機能を使う大きな利点は、単に単純であるからだけでなく、クエリビルダ
機能を使えば、クエリの構文は各種のデータベースアダプタが生成してくれるの
で、 データベースから独立したアプリケーションを作成できるということで
す。また、システムにより自動的に値のエスケープ処理が行われるので、より
安全なクエリが利用可能になります。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">クエリを自分で書きたい場合は、データベース設定ファイルでこの
クラスを使用できないようにすることもできます。そうすることで、コアの
データベースライブラリとアダプタに、少ないリソースを有効活用させることができます。</p>
</div>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#id2" id="id16">データの選択</a></li>
<li><a class="reference internal" href="#id3" id="id17">特定のデータを探す</a></li>
<li><a class="reference internal" href="#id4" id="id18">類似データを探す</a></li>
<li><a class="reference internal" href="#id5" id="id19">結果の並び替え</a></li>
<li><a class="reference internal" href="#id6" id="id20">結果を制限するか、数える</a></li>
<li><a class="reference internal" href="#id7" id="id21">クエリのグルーピング</a></li>
<li><a class="reference internal" href="#id8" id="id22">データの挿入</a></li>
<li><a class="reference internal" href="#id9" id="id23">データの更新</a></li>
<li><a class="reference internal" href="#id10" id="id24">データの削除</a></li>
<li><a class="reference internal" href="#id11" id="id25">メソッドの連結</a></li>
<li><a class="reference internal" href="#ar-caching" id="id26">クエリビルダ キャッシング</a></li>
<li><a class="reference internal" href="#id14" id="id27">クエリビルダのリセット</a></li>
<li><a class="reference internal" href="#id15" id="id28">クラスリファレンス</a></li>
</ul>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id16">データの選択</a><a class="headerlink" href="#id2" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>次のメソッドを使えば、SQLの <strong>SELECT</strong> 文を組み立てられます。</p>
<p><strong>$this-&gt;db-&gt;get()</strong></p>
<p>SELECT クエリを実行し、結果を返します。次のように、単独で使うと、
テーブルの全レコードを取得するのに使えます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$query = $this-&gt;db-&gt;get(&#39;mytable&#39;);  // 次の文を生成します: SELECT * FROM mytable
</pre></div>
</div>
<p>第2、第3引数で、limit 句と offset 句を
セットできます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$query = $this-&gt;db-&gt;get(&#39;mytable&#39;, 10, 20);

// Executes: SELECT * FROM mytable LIMIT 20, 10
// 生成する文: SELECT * FROM mytable LIMIT 20, 10（MySQL での例。他のデータベースでは、若干違う構文になります）
</pre></div>
</div>
<p>上の例ではメソッドは $query という名前の変数にアサインされていますが、
この変数は、結果を表示させるのに使用できます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$query = $this-&gt;db-&gt;get(&#39;mytable&#39;);

foreach ($query-&gt;result() as $row)
{
        echo $row-&gt;title;
}
</pre></div>
</div>
<p>結果の生成について完全に論じている <a class="reference internal" href="results.html"><span class="doc">結果メソッド</span></a>
ページを見てみてください。</p>
<p><strong>$this-&gt;db-&gt;get_compiled_select()</strong></p>
<p>SELECT クエリを <strong>$this-&gt;db-&gt;get()</strong> のようにコンパイルしますが、クエリの
<em>実行</em> はしません。単に SQL クエリの文字列を返すだけです。</p>
<p>例:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$sql = $this-&gt;db-&gt;get_compiled_select(&#39;mytable&#39;);
echo $sql;

// 次の文を出力します: SELECT * FROM mytable
</pre></div>
</div>
<p>第2引数でクエリビルダのクエリをリセットするかを指定できます（デフォルトでは
<cite>$this-&gt;db-&gt;get()</cite> を使用時のようにリセットされます）:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>echo $this-&gt;db-&gt;limit(10,20)-&gt;get_compiled_select(&#39;mytable&#39;, FALSE);

// 次の文を出力します: SELECT * FROM mytable LIMIT 20, 10
// (in MySQL. Other databases have slightly different syntax)

echo $this-&gt;db-&gt;select(&#39;title, content, date&#39;)-&gt;get_compiled_select();

// 次の文を出力します: SELECT title, content, date FROM mytable LIMIT 20, 10
</pre></div>
</div>
<p>上記例で特筆すべき点として、
2つ目のクエリが <strong>$this-&gt;db-&gt;from()</strong> を使っておらず、
テーブル名を第1引数に渡していないという点があります。この結果の理由は、
クエリが値をリセットする <strong>$this-&gt;db-&gt;reset_query()</strong> を直接使っている
<strong>$this-&gt;db-&gt;get()</strong> を使って実行されていないためです。</p>
<p><strong>$this-&gt;db-&gt;get_where()</strong></p>
<p>db-&gt;where() メソッドを使用する代わりに、 &#8220;where&#8221; 句を
第2引数で追加できること以外は上のメソッドと
同じです:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$query = $this-&gt;db-&gt;get_where(&#39;mytable&#39;, array(&#39;id&#39; =&gt; $id), $limit, $offset);
</pre></div>
</div>
<p>where メソッドについては、詳しくは下をご覧ください。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">get_where() は、以前は getwhere() という名前でした。getwhere() は [ 訳注: 2.0.0 で ] 廃止されました。</p>
</div>
<p><strong>$this-&gt;db-&gt;select()</strong></p>
<p>次のようにすると、クエリの SELECT の部分を指定できます [ 訳注: 選択したい列を指定できるということ ]:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;select(&#39;title, content, date&#39;);
$query = $this-&gt;db-&gt;get(&#39;mytable&#39;);

// 生成される SQL 文: SELECT title, content, date FROM mytable
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">テーブルからすべての列（*）を取得する場合は、
このメソッドは不要です。このメソッドが省略されると、
CodeIgniter はすべての列を選択する（SELECT * ... ）ものとします。</p>
</div>
<p><code class="docutils literal"><span class="pre">$this-&gt;db-&gt;select()</span></code> は追加で第2引数をセットできます。第2引数に FALSE をセットすると、CodeIgniter はバッククォート（バックチック）でフィールド
名やテーブル名を保護しないようになります [ 訳注: 識別子（テーブル名や列名など）が予約語の場合や、特殊文字が含まれる場合、たとえば MySQL では、バッククォート「`」でそれらを囲む必要があります。第2引数に FALSE
をセットするとこれを自動では行いません ]。
これは、複合的な SELECT 文が必要な場合に有用です。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;select(&#39;(SELECT SUM(payments.amount) FROM payments WHERE payments.invoice_id=4) AS amount_paid&#39;, FALSE);
$query = $this-&gt;db-&gt;get(&#39;mytable&#39;);
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;select_max()</strong></p>
<p>クエリの &#8220;SELECT MAX(field)&#8221; の部分を書き出します。
結果フィールドをリネームするために、追加で第2引数を指定できます。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;select_max(&#39;age&#39;);
$query = $this-&gt;db-&gt;get(&#39;members&#39;);  // 次を生成: SELECT MAX(age) as age FROM members

$this-&gt;db-&gt;select_max(&#39;age&#39;, &#39;member_age&#39;);
$query = $this-&gt;db-&gt;get(&#39;members&#39;); // 次を生成: SELECT MAX(age) as member_age FROM members
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;select_min()</strong></p>
<p>クエリの &#8220;SELECT MIN(field)&#8221; の部分を書き出します。
select_max() と同様に、結果フィールドをリネームするために、
追加で第2引数を指定できます。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;select_min(&#39;age&#39;);
$query = $this-&gt;db-&gt;get(&#39;members&#39;); // 次を生成: SELECT MIN(age) as age FROM members
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;select_avg()</strong></p>
<p>クエリの &#8220;SELECT AVG(field)&#8221; の部分を書き出します。
select_max() と同様に、結果フィールドをリネームするために、
追加で第2引数を指定できます。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;select_avg(&#39;age&#39;);
$query = $this-&gt;db-&gt;get(&#39;members&#39;); // 次を生成: SELECT AVG(age) as age FROM members
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;select_sum()</strong></p>
<p>クエリの &#8220;SELECT SUM(field)&#8221; の部分を書き出します。 select_max() と同様
に、結果フィールドをリネームするために、
追加で第2引数を指定できます。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;select_sum(&#39;age&#39;);
$query = $this-&gt;db-&gt;get(&#39;members&#39;); // 次を生成: SELECT SUM(age) as age FROM members
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;from()</strong></p>
<p>次のようにすると、クエリの FROM の部分を指定できます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;select(&#39;title, content, date&#39;);
$this-&gt;db-&gt;from(&#39;mytable&#39;);
$query = $this-&gt;db-&gt;get();  // 次を生成: SELECT title, content, date FROM mytable
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">先に示したとおり、クエリの FROM の部分は、$this-&gt;db-&gt;get()
メソッドの中で指定できます。どちらを使うかは好みです。</p>
</div>
<p><strong>$this-&gt;db-&gt;join()</strong></p>
<p>次のようにすると、クエリの JOIN の部分を指定できます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;select(&#39;*&#39;);
$this-&gt;db-&gt;from(&#39;blogs&#39;);
$this-&gt;db-&gt;join(&#39;comments&#39;, &#39;comments.id = blogs.id&#39;);
$query = $this-&gt;db-&gt;get();

// 次を生成:
// SELECT * FROM blogs JOIN comments ON comments.id = blogs.id
</pre></div>
</div>
<p>1回のクエリで複数の JOIN が必要な場合は、メソッドを複数回
呼んでください。</p>
<p>特定の種類の結合が必要な場合は、第3引数でその種類を指定できます。
指定可能なのは: left、right、outer、inner、left outer および right
outer。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;join(&#39;comments&#39;, &#39;comments.id = blogs.id&#39;, &#39;left&#39;);
// 次を生成: LEFT JOIN comments ON comments.id = blogs.id
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id17">特定のデータを探す</a><a class="headerlink" href="#id3" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><strong>$this-&gt;db-&gt;where()</strong></p>
<p>このメソッドを使うと <strong>WHERE</strong> 句を4つの方法で指定することが
できます:</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">このメソッドに渡されるすべての値は自動的にエスケープされ、
安全なクエリを生成します。</p>
</div>
<ol class="arabic">
<li><p class="first"><strong>単に キー/値 を指定する方法:</strong></p>
<blockquote>
<div><div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;where(&#39;name&#39;, $name); // 次を生成: WHERE name = &#39;Joe&#39;
</pre></div>
</div>
<p>等号（=）が付加されることに注意してください。</p>
<p>複数回このメソッドを呼ぶと、
それらは AND で連結されます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;where(&#39;name&#39;, $name);
$this-&gt;db-&gt;where(&#39;title&#39;, $title);
$this-&gt;db-&gt;where(&#39;status&#39;, $status);
// WHERE name = &#39;Joe&#39; AND title = &#39;boss&#39; AND status = &#39;active&#39;
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>演算子を指定しながら キー/値 を指定する方法:</strong></p>
<blockquote>
<div><p>比較方法を指定するために、
第1引数に演算子を含めることができます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;where(&#39;name !=&#39;, $name);
$this-&gt;db-&gt;where(&#39;id &lt;&#39;, $id); // 次を生成: WHERE name != &#39;Joe&#39; AND id &lt; 45
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>連想配列を使用する方法:</strong></p>
<blockquote>
<div><div class="highlight-ci"><div class="highlight"><pre><span></span>$array = array(&#39;name&#39; =&gt; $name, &#39;title&#39; =&gt; $title, &#39;status&#39; =&gt; $status);
$this-&gt;db-&gt;where($array);
// 次を生成: WHERE name = &#39;Joe&#39; AND title = &#39;boss&#39; AND status = &#39;active&#39;
</pre></div>
</div>
<p>またこの方法を使う場合も、次のように、演算子を含めて指定することができます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$array = array(&#39;name !=&#39; =&gt; $name, &#39;id &lt;&#39; =&gt; $id, &#39;date &gt;&#39; =&gt; $date);
$this-&gt;db-&gt;where($array);
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>自由に指定できる文字列を使用する方法:</strong>
WHERE 句の中身を自分で書くこともできます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$where = &quot;name=&#39;Joe&#39; AND status=&#39;boss&#39; OR status=&#39;active&#39;&quot;;
$this-&gt;db-&gt;where($where);
</pre></div>
</div>
</li>
</ol>
<p><code class="docutils literal"><span class="pre">$this-&gt;db-&gt;where()</span></code> にはオプションで第3の引数を渡すこともできます。FALSE
を渡した場合、CodeIgniter はフィールド名やテーブル名を守りません。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;where(&#39;MATCH (field) AGAINST (&quot;value&quot;)&#39;, NULL, FALSE);
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;or_where()</strong></p>
<p>他の句と OR で連結される以外は、
上のメソッドと同じものです:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;where(&#39;name !=&#39;, $name);
$this-&gt;db-&gt;or_where(&#39;id &gt;&#39;, $id);  // 次を生成: WHERE name != &#39;Joe&#39; OR id &gt; 50
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">or_where() は、以前は orwhere() という名前でした。 orwhere() は[ 訳注: 2.0.0 で ]
廃止されました。</p>
</div>
<p><strong>$this-&gt;db-&gt;where_in()</strong></p>
<p>適切な場合には、AND で連結して、「WHERE field IN (&#8216;item&#8217;, &#8216;item&#8217;) 」
SQLクエリを生成します</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$names = array(&#39;Frank&#39;, &#39;Todd&#39;, &#39;James&#39;);
$this-&gt;db-&gt;where_in(&#39;username&#39;, $names);
// 次を生成: WHERE username IN (&#39;Frank&#39;, &#39;Todd&#39;, &#39;James&#39;)
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;or_where_in()</strong></p>
<p>適切な場合には、OR で連結して、「WHERE field IN (&#8216;item&#8217;, &#8216;item&#8217;)」
SQLクエリを生成します</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$names = array(&#39;Frank&#39;, &#39;Todd&#39;, &#39;James&#39;);
$this-&gt;db-&gt;or_where_in(&#39;username&#39;, $names);
// 次を生成: OR username IN (&#39;Frank&#39;, &#39;Todd&#39;, &#39;James&#39;)
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;where_not_in()</strong></p>
<p>適切な場合には、AND で連結して、 「WHERE field NOT IN (&#8216;item&#8217;, &#8216;item&#8217;)」
SQLクエリを生成します</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$names = array(&#39;Frank&#39;, &#39;Todd&#39;, &#39;James&#39;);
$this-&gt;db-&gt;where_not_in(&#39;username&#39;, $names);
// 次を生成: WHERE username NOT IN (&#39;Frank&#39;, &#39;Todd&#39;, &#39;James&#39;)
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;or_where_not_in()</strong></p>
<p>適切な場合には、NOT で連結して、「WHERE field NOT IN (&#8216;item&#8217;,
&#8216;item&#8217;)」 SQLクエリを生成します</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$names = array(&#39;Frank&#39;, &#39;Todd&#39;, &#39;James&#39;);
$this-&gt;db-&gt;or_where_not_in(&#39;username&#39;, $names);
// 次を生成: OR username NOT IN (&#39;Frank&#39;, &#39;Todd&#39;, &#39;James&#39;)
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h2><a class="toc-backref" href="#id18">類似データを探す</a><a class="headerlink" href="#id4" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><strong>$this-&gt;db-&gt;like()</strong></p>
<p>このメソッドを使うと、検索でよく使う <strong>LIKE</strong> 句を
生成できます。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">このメソッドに渡されるすべての値は自動でエスケープされます。</p>
</div>
<ol class="arabic">
<li><p class="first"><strong>単に キー/値 を指定する方法:</strong></p>
<blockquote>
<div><div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;like(&#39;title&#39;, &#39;match&#39;);
// 次を生成: WHERE `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;
</pre></div>
</div>
<p>複数回このメソッドを呼ぶと、それらは AND で
連結されます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;like(&#39;title&#39;, &#39;match&#39;);
$this-&gt;db-&gt;like(&#39;body&#39;, &#39;match&#39;);
// WHERE `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39; AND  `body` LIKE &#39;%match% ESCAPE &#39;!&#39;
</pre></div>
</div>
<p>ワイルドカード（%）が付加される場所を制御したい場合は、追加の第3引数を
利用できます。&#8217;before&#8217;、&#8217;after&#8217; そして &#8216;both&#8217;（規定値）
が指定できる選択肢になります。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;like(&#39;title&#39;, &#39;match&#39;, &#39;before&#39;);    // 次を生成: WHERE `title` LIKE &#39;%match&#39; ESCAPE &#39;!&#39;
$this-&gt;db-&gt;like(&#39;title&#39;, &#39;match&#39;, &#39;after&#39;);     // 次を生成: WHERE `title` LIKE &#39;match%&#39; ESCAPE &#39;!&#39;
$this-&gt;db-&gt;like(&#39;title&#39;, &#39;match&#39;, &#39;both&#39;);      // 次を生成: WHERE `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>連想配列を使用する方法:</strong></p>
<blockquote>
<div><div class="highlight-ci"><div class="highlight"><pre><span></span>$array = array(&#39;title&#39; =&gt; $match, &#39;page1&#39; =&gt; $match, &#39;page2&#39; =&gt; $match);
$this-&gt;db-&gt;like($array);
// WHERE `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39; AND  `page1` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39; AND  `page2` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<p><strong>$this-&gt;db-&gt;or_like()</strong></p>
<p>他の句と OR で連結される以外は、
上のメソッドと同じものです:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;like(&#39;title&#39;, &#39;match&#39;); $this-&gt;db-&gt;or_like(&#39;body&#39;, $match);
// WHERE `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39; OR  `body` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">or_like() は、以前は orlike()という名前でした。 orlike() は [ 訳注: 2.0.0 で ] 廃止されました。</p>
</div>
<p><strong>$this-&gt;db-&gt;not_like()</strong></p>
<p>この関数は、NOT LIKE 文を生成する事を除き、 <code class="docutils literal"><span class="pre">like()</span></code> と
同じです:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;not_like(&#39;title&#39;, &#39;match&#39;);  // WHERE `title` NOT LIKE &#39;%match% ESCAPE &#39;!&#39;
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;or_not_like()</strong></p>
<p>この関数は、複数のものが、OR で連結されるということ以外は、 <code class="docutils literal"><span class="pre">not_like()</span></code>
と同じです:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;like(&#39;title&#39;, &#39;match&#39;);
$this-&gt;db-&gt;or_not_like(&#39;body&#39;, &#39;match&#39;);
// WHERE `title` LIKE &#39;%match% OR  `body` NOT LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;group_by()</strong></p>
<p>クエリの GROUP BY の部分を指定できます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;group_by(&quot;title&quot;); // 次を生成: GROUP BY title
</pre></div>
</div>
<p>また、次のように、複数の値を配列で渡すこともできます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;group_by(array(&quot;title&quot;, &quot;date&quot;));  // 次を生成: GROUP BY title, date
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">group_by() は、以前は groupby() という名前でした。groupby()は
廃止されました。</p>
</div>
<p><strong>$this-&gt;db-&gt;distinct()</strong></p>
<p>&#8220;DISTINCT&#8221; キーワードをクエリに追加します</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;distinct();
$this-&gt;db-&gt;get(&#39;table&#39;); // 次を生成: SELECT DISTINCT * FROM table
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;having()</strong></p>
<p>クエリの HAVING の部分を指定できます。1つまたは2つ引数を渡す
2種類の文法があります。:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;having(&#39;user_id = 45&#39;);  // 次を生成: HAVING user_id = 45
$this-&gt;db-&gt;having(&#39;user_id&#39;,  45);  // 次を生成: HAVING user_id = 45
</pre></div>
</div>
<p>また、次のように、複数の値を配列で渡すこともできます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;having(array(&#39;title =&#39; =&gt; &#39;My Title&#39;, &#39;id &lt;&#39; =&gt; $id));
// 次を生成: HAVING title = &#39;My Title&#39;, id &lt; 45
</pre></div>
</div>
<p>CodeIgniter がクエリをエスケープすることのできるデータベースを使ってい
る場合は、第3引数を FALSE
にして、エスケープを無効にすることができます。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;having(&#39;user_id&#39;,  45);  // 次を生成: HAVING `user_id` = 45 in some databases such as MySQL
$this-&gt;db-&gt;having(&#39;user_id&#39;,  45, FALSE);  // 次を生成: HAVING user_id = 45
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;or_having()</strong></p>
<p>複数の句を &#8220;OR&#8221; で分つ以外は、having() と同じです。</p>
</div>
<div class="section" id="id5">
<h2><a class="toc-backref" href="#id19">結果の並び替え</a><a class="headerlink" href="#id5" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><strong>$this-&gt;db-&gt;order_by()</strong></p>
<p>ORDER BY 句を指定できます。</p>
<p>第1引数は、並べ替えたい列の名前を指定します。</p>
<p>第2引数は、並べ替え結果の順序を指定します。選択肢は <strong>ASC</strong> または <strong>DESC</strong>
または <strong>RANDOM</strong> です。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;order_by(&#39;title&#39;, &#39;DESC&#39;);
// 次を生成: ORDER BY `title` DESC
</pre></div>
</div>
<p>第1引数で、自由に文字列で指定することもできます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;order_by(&#39;title DESC, name ASC&#39;);
// 次を生成: ORDER BY `title` DESC, `name` ASC
</pre></div>
</div>
<p>あるいは、複数のフィールドが必要な場合は、複数回のメソッド呼び出しもできます。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;order_by(&#39;title&#39;, &#39;DESC&#39;);
$this-&gt;db-&gt;order_by(&#39;name&#39;, &#39;ASC&#39;);
// 次を生成: ORDER BY `title` DESC, `name` ASC
</pre></div>
</div>
<p><strong>RANDOM</strong> 順序オプションを選択した場合、第1引数はシード値を指定しない限り
無視されます。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;order_by(&#39;title&#39;, &#39;RANDOM&#39;);
// 次を生成: ORDER BY RAND()

$this-&gt;db-&gt;order_by(42, &#39;RANDOM&#39;);
// 次を生成: ORDER BY RAND(42)
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">order_by() は、以前は orderby() という名前でした。orderby() は
廃止されました。</p>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">現在のところ Oracle または MSSQL ドライバでは、ランダムな並べ替えはサポートされていません。
これらは、&#8217;ASC&#8217; が規定値に設定されます。</p>
</div>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id20">結果を制限するか、数える</a><a class="headerlink" href="#id6" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><strong>$this-&gt;db-&gt;limit()</strong></p>
<p>クエリで返す結果の行数の上限を指定できます。:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;limit(10);  // 次を生成: LIMIT 10
</pre></div>
</div>
<p>第2引数でオフセットを指定できます。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;limit(10, 20);  // 次を生成: LIMIT 20, 10 (in MySQL.  Other databases have slightly different syntax)
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;count_all_results()</strong></p>
<p>特定の クエリビルダ クエリの行数を調べることができます。
クエリは、<code class="docutils literal"><span class="pre">where()</span></code>, <code class="docutils literal"><span class="pre">or_where()</span></code>, <code class="docutils literal"><span class="pre">like()</span></code>, <code class="docutils literal"><span class="pre">or_like()</span></code> などの クエリビルダ
の絞り込みが利用できます。例:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>echo $this-&gt;db-&gt;count_all_results(&#39;my_table&#39;);  // 25 のような整数を生成
$this-&gt;db-&gt;like(&#39;title&#39;, &#39;match&#39;);
$this-&gt;db-&gt;from(&#39;my_table&#39;);
echo $this-&gt;db-&gt;count_all_results(); // 17 のような整数を生成
</pre></div>
</div>
<p>ただし、このメソッドは <code class="docutils literal"><span class="pre">select()</span></code> に渡したフィールド値をすべて
リセットします。もしこれらを保持したい場合は、第2引数に <code class="docutils literal"><span class="pre">FALSE</span></code> を
渡してください:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>echo $this-&gt;db-&gt;count_all_results(&#39;my_table&#39;, FALSE);
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;count_all()</strong></p>
<p>特定のテーブルのデータ件数(行数)をカウントします。
第1引数にテーブル名を指定します。例:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>echo $this-&gt;db-&gt;count_all(&#39;my_table&#39;);  // 25 のような整数を生成
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h2><a class="toc-backref" href="#id21">クエリのグルーピング</a><a class="headerlink" href="#id7" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>クエリのグルーピングでは、 WHERE 句を括弧で囲むことでグループを作ることができます。
これにより複雑な WHERE 句のクエリを作ることが可能です。例:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;select(&#39;*&#39;)-&gt;from(&#39;my_table&#39;)
        -&gt;group_start()
                -&gt;where(&#39;a&#39;, &#39;a&#39;)
                -&gt;or_group_start()
                        -&gt;where(&#39;b&#39;, &#39;b&#39;)
                        -&gt;where(&#39;c&#39;, &#39;c&#39;)
                -&gt;group_end()
        -&gt;group_end()
        -&gt;where(&#39;d&#39;, &#39;d&#39;)
-&gt;get();

// 次のようになります:
// SELECT * FROM (`my_table`) WHERE ( `a` = &#39;a&#39; OR ( `b` = &#39;b&#39; AND `c` = &#39;c&#39; ) ) AND `d` = &#39;d&#39;
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">groups は対称であることが求められます。 group_start() が group_end() と合致していることを確認してください。</p>
</div>
<p><strong>$this-&gt;db-&gt;group_start()</strong></p>
<p>WHERE 句に括弧開きを追加することで新しいグループを作ります。</p>
<p><strong>$this-&gt;db-&gt;or_group_start()</strong></p>
<p>WHERE 句に括弧開きを追加することで新しいグループを作り、 &#8216;OR&#8217; を先頭に置きます。</p>
<p><strong>$this-&gt;db-&gt;not_group_start()</strong></p>
<p>WHERE 句に括弧開きを追加することで新しいグループを作り、 &#8216;NOT&#8217; を先頭に置きます。</p>
<p><strong>$this-&gt;db-&gt;or_not_group_start()</strong></p>
<p>WHERE 句に括弧開きを追加することで新しいグループを作り、 &#8216;OR NOT&#8217; を先頭に置きます。</p>
<p><strong>$this-&gt;db-&gt;group_end()</strong></p>
<p>WHERE 句に括弧閉じを追加することで現在のグループを閉じます。</p>
</div>
<div class="section" id="id8">
<h2><a class="toc-backref" href="#id22">データの挿入</a><a class="headerlink" href="#id8" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><strong>$this-&gt;db-&gt;insert()</strong></p>
<p>与えられたデータをもとに INSERT 文を生成し実行します。
<strong>配列</strong> または <strong>オブジェクト</strong> のどちらかでメソッドにデータを渡せます。
配列を使った例は次の通りです:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$data = array(
        &#39;title&#39; =&gt; &#39;My title&#39;,
        &#39;name&#39; =&gt; &#39;My Name&#39;,
        &#39;date&#39; =&gt; &#39;My date&#39;
);

$this-&gt;db-&gt;insert(&#39;mytable&#39;, $data);
// 次を生成: INSERT INTO mytable (title, name, date) VALUES (&#39;My title&#39;, &#39;My name&#39;, &#39;My date&#39;)
</pre></div>
</div>
<p>第1引数はテーブル名で、第2引数は、値の連想配列で
指定します。</p>
<p>オブジェクトを使った例は次の通りです:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>/*
class Myclass {
        public $title = &#39;My Title&#39;;
        public $content = &#39;My Content&#39;;
        public $date = &#39;My Date&#39;;
}
*/

$object = new Myclass;
$this-&gt;db-&gt;insert(&#39;mytable&#39;, $object);
// 次を生成: INSERT INTO mytable (title, content, date) VALUES (&#39;My Title&#39;, &#39;My Content&#39;, &#39;My Date&#39;)
</pre></div>
</div>
<p>第1引数はテーブル名で、第2引数はオブジェクトに
なります。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">すべての値は自動的にエスケープされ、安全なクエリを生成します。</p>
</div>
<p><strong>$this-&gt;db-&gt;get_compiled_insert()</strong></p>
<p>INSERT クエリを <strong>$this-&gt;db-&gt;insert()</strong> のようにコンパイルしますが、クエリの
<em>実行</em> はしません。単に SQL クエリの文字列を返すだけです。</p>
<p>Example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$data = array(
        &#39;title&#39; =&gt; &#39;My title&#39;,
        &#39;name&#39;  =&gt; &#39;My Name&#39;,
        &#39;date&#39;  =&gt; &#39;My date&#39;
);

$sql = $this-&gt;db-&gt;set($data)-&gt;get_compiled_insert(&#39;mytable&#39;);
echo $sql;

// SQL 文字列を生成: INSERT INTO mytable (`title`, `name`, `date`) VALUES (&#39;My title&#39;, &#39;My name&#39;, &#39;My date&#39;)
</pre></div>
</div>
<p>第2引数でクエリビルダのクエリをリセットするかを指定できます（デフォルトでは
<cite>$this-&gt;db-&gt;insert()</cite> を使用時のようにリセットされます）:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>echo $this-&gt;db-&gt;set(&#39;title&#39;, &#39;My Title&#39;)-&gt;get_compiled_insert(&#39;mytable&#39;, FALSE);

// SQL 文字列を生成: INSERT INTO mytable (`title`) VALUES (&#39;My Title&#39;)

echo $this-&gt;db-&gt;set(&#39;content&#39;, &#39;My Content&#39;)-&gt;get_compiled_insert();

// SQL 文字列を生成: INSERT INTO mytable (`title`, `content`) VALUES (&#39;My Title&#39;, &#39;My Content&#39;)
</pre></div>
</div>
<p>上記例で特筆すべき点として、
2つ目のクエリが <strong>$this-&gt;db-&gt;from()</strong> を使っておらず、
テーブル名を第1引数に渡していないという点があります。この結果の理由は、
クエリが値をリセットする <strong>$this-&gt;db-&gt;reset_query()</strong> を直接使っている
<strong>$this-&gt;db-&gt;insert()</strong> を使って実行されていないためです。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">このメソッドはバッチ挿入には対応していません。</p>
</div>
<p><strong>$this-&gt;db-&gt;insert_batch()</strong></p>
<p>与えられたデータをもとに INSERT 文を生成し実行します。
<strong>配列</strong> または <strong>オブジェクト</strong> のどちらかでメソッドにデータを渡せます。
配列を使った例は次の通りです:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$data = array(
        array(
                &#39;title&#39; =&gt; &#39;My title&#39;,
                &#39;name&#39; =&gt; &#39;My Name&#39;,
                &#39;date&#39; =&gt; &#39;My date&#39;
        ),
        array(
                &#39;title&#39; =&gt; &#39;Another title&#39;,
                &#39;name&#39; =&gt; &#39;Another Name&#39;,
                &#39;date&#39; =&gt; &#39;Another date&#39;
        )
);

$this-&gt;db-&gt;insert_batch(&#39;mytable&#39;, $data);
// 次を生成: INSERT INTO mytable (title, name, date) VALUES (&#39;My title&#39;, &#39;My name&#39;, &#39;My date&#39;),  (&#39;Another title&#39;, &#39;Another name&#39;, &#39;Another date&#39;)
</pre></div>
</div>
<p>第1引数はテーブル名で、第2引数は、
値の連想配列で指定します。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">すべての値は自動的にエスケープされ、安全なクエリを生成します。</p>
</div>
</div>
<div class="section" id="id9">
<h2><a class="toc-backref" href="#id23">データの更新</a><a class="headerlink" href="#id9" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><strong>$this-&gt;db-&gt;replace()</strong></p>
<p>このメソッドは REPLACE 分を実行します, これは基本的には SQL
標準の（必要なら）DELETE + INSERT で、 <em>PRIMARY</em> と <em>UNIQUE</em>
キーを判定要素として使用します。
これにより、複雑なロジックを組み込む必要を抑えられます。
これがないと  <code class="docutils literal"><span class="pre">select()</span></code> 、 <code class="docutils literal"><span class="pre">update()</span></code> 、
<code class="docutils literal"><span class="pre">delete()</span></code> と <code class="docutils literal"><span class="pre">insert()</span></code> の呼び出しを組み合わせることになります。</p>
<p>Example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$data = array(
        &#39;title&#39; =&gt; &#39;My title&#39;,
        &#39;name&#39;  =&gt; &#39;My Name&#39;,
        &#39;date&#39;  =&gt; &#39;My date&#39;
);

$this-&gt;db-&gt;replace(&#39;table&#39;, $data);

// 次を生成: REPLACE INTO mytable (title, name, date) VALUES (&#39;My title&#39;, &#39;My name&#39;, &#39;My date&#39;)
</pre></div>
</div>
<p>上記の例では、もし <em>title</em> フィールドを主キーと決めつけるならば、
<em>title</em> の値に &#8216;My title&#8217; を含む行があれば、その行は
新しいデータで置き換えられる形で削除されます。</p>
<p><code class="docutils literal"><span class="pre">set()</span></code> メソッドの使い方もまたすべてのフィールドを
自動的にエスケープします、ちょうど <code class="docutils literal"><span class="pre">insert()</span></code> のように。</p>
<p><strong>$this-&gt;db-&gt;set()</strong></p>
<p>inserts または updates で値をセットするのに使います。</p>
<p><strong>これは次のように、 insert または update メソッドに直接データの
配列を渡す代わりに使用できます:</strong></p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;set(&#39;name&#39;, $name);
$this-&gt;db-&gt;insert(&#39;mytable&#39;);  // 次を生成: INSERT INTO mytable (`name`) VALUES (&#39;{$name}&#39;)
</pre></div>
</div>
<p>もし複数のメソッドをコールした場合、それらは insert か update
かに基づき適切に組み立てられます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;set(&#39;name&#39;, $name);
$this-&gt;db-&gt;set(&#39;title&#39;, $title);
$this-&gt;db-&gt;set(&#39;status&#39;, $status);
$this-&gt;db-&gt;insert(&#39;mytable&#39;);
</pre></div>
</div>
<p>また、 <strong>set()</strong> は、FALSE をセットするとデータをエスケープするのを回避する、
第3引数（<code class="docutils literal"><span class="pre">$escape</span></code>）をセットできます。違いを示すため、escape パラメータを
利用する場合と利用しない場合、両方の <code class="docutils literal"><span class="pre">set()</span></code> の使用の
説明を挙げます。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;set(&#39;field&#39;, &#39;field+1&#39;, FALSE);
$this-&gt;db-&gt;where(&#39;id&#39;, 2);
$this-&gt;db-&gt;update(&#39;mytable&#39;); // gives UPDATE mytable SET field = field+1 WHERE id = 2

$this-&gt;db-&gt;set(&#39;field&#39;, &#39;field+1&#39;);
$this-&gt;db-&gt;where(&#39;id&#39;, 2);
$this-&gt;db-&gt;update(&#39;mytable&#39;); // gives UPDATE `mytable` SET `field` = &#39;field+1&#39; WHERE `id` = 2
</pre></div>
</div>
<p>このメソッドに連想配列を渡すこともできます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$array = array(
        &#39;name&#39; =&gt; $name,
        &#39;title&#39; =&gt; $title,
        &#39;status&#39; =&gt; $status
);

$this-&gt;db-&gt;set($array);
$this-&gt;db-&gt;insert(&#39;mytable&#39;);
</pre></div>
</div>
<p>あるいはオブジェクトを渡すこともできます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>/*
class Myclass {
        public $title = &#39;My Title&#39;;
        public $content = &#39;My Content&#39;;
        public $date = &#39;My Date&#39;;
}
*/

$object = new Myclass;
$this-&gt;db-&gt;set($object);
$this-&gt;db-&gt;insert(&#39;mytable&#39;);
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;update()</strong></p>
<p>指定されたデータをもとに UPDATE 文を生成してクエリを実行します。
<strong>配列</strong> または <strong>オブジェクト</strong> をメソッドに渡すことができます。
配列を使った例は次の通りです:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$data = array(
        &#39;title&#39; =&gt; $title,
        &#39;name&#39; =&gt; $name,
        &#39;date&#39; =&gt; $date
);

$this-&gt;db-&gt;where(&#39;id&#39;, $id);
$this-&gt;db-&gt;update(&#39;mytable&#39;, $data);
// 次を生成:
//
//      UPDATE mytable
//      SET title = &#39;{$title}&#39;, name = &#39;{$name}&#39;, date = &#39;{$date}&#39;
//      WHERE id = $id
</pre></div>
</div>
<p>あるいは、次のようにオブジェクトを渡すこともできます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>/*
class Myclass {
        public $title = &#39;My Title&#39;;
        public $content = &#39;My Content&#39;;
        public $date = &#39;My Date&#39;;
}
*/

$object = new Myclass;
$this-&gt;db-&gt;where(&#39;id&#39;, $id);
$this-&gt;db-&gt;update(&#39;mytable&#39;, $object);
// 次を生成:
//
// UPDATE `mytable`
// SET `title` = &#39;{$title}&#39;, `name` = &#39;{$name}&#39;, `date` = &#39;{$date}&#39;
// WHERE id = `$id`
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">すべての値は自動的にエスケープされ、安全なクエリを生成します。</p>
</div>
<p>$this-&gt;db-&gt;where() メソッドを使えば WHERE 句をセットできます。
次のように、オプションで、更新メソッドに直接文字列で情報を渡すことも
できます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;update(&#39;mytable&#39;, $data, &quot;id = 4&quot;);
</pre></div>
</div>
<p>あるいは、配列でも渡せます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;update(&#39;mytable&#39;, $data, array(&#39;id&#39; =&gt; $id));
</pre></div>
</div>
<p>先に述べた、 $this-&gt;db-&gt;set() メソッドを更新に利用することも
できます。</p>
<p><strong>$this-&gt;db-&gt;update_batch()</strong></p>
<p>与えられたデータをもとに UPDATE 文を生成し実行します。
<strong>配列</strong> または <strong>オブジェクト</strong> のどちらかでメソッドにデータを渡せます。
配列を使った例は次の通りです:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$data = array(
   array(
      &#39;title&#39; =&gt; &#39;My title&#39; ,
      &#39;name&#39; =&gt; &#39;My Name 2&#39; ,
      &#39;date&#39; =&gt; &#39;My date 2&#39;
   ),
   array(
      &#39;title&#39; =&gt; &#39;Another title&#39; ,
      &#39;name&#39; =&gt; &#39;Another Name 2&#39; ,
      &#39;date&#39; =&gt; &#39;Another date 2&#39;
   )
);

$this-&gt;db-&gt;update_batch(&#39;mytable&#39;, $data, &#39;title&#39;);

// 次を生成:
// UPDATE `mytable` SET `name` = CASE
// WHEN `title` = &#39;My title&#39; THEN &#39;My Name 2&#39;
// WHEN `title` = &#39;Another title&#39; THEN &#39;Another Name 2&#39;
// ELSE `name` END,
// `date` = CASE
// WHEN `title` = &#39;My title&#39; THEN &#39;My date 2&#39;
// WHEN `title` = &#39;Another title&#39; THEN &#39;Another date 2&#39;
// ELSE `date` END
// WHERE `title` IN (&#39;My title&#39;,&#39;Another title&#39;)
</pre></div>
</div>
<p>第1引数はテーブル名、第2引数は値の連想配列、第3引数は where
句を指定します。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">すべての値は自動的にエスケープされ、安全なクエリを生成します。</p>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last"><code class="docutils literal"><span class="pre">affected_rows()</span></code> は内部仕様のため、このメソッドで適切な結果を返しません。
そのかわり <code class="docutils literal"><span class="pre">update_batch()</span></code> は影響された行数を
返します。</p>
</div>
<p><strong>$this-&gt;db-&gt;get_compiled_update()</strong></p>
<p>これは <code class="docutils literal"><span class="pre">$this-&gt;db-&gt;get_compiled_insert()</span></code> とまったく同じように動作します。違いは
INSERT SQL 文字列のかわりに UPDATE SQL 文字列を生成することです。</p>
<p>詳しくは <cite>$this-&gt;db-&gt;get_compiled_insert()</cite> のドキュメントをご覧ください。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">このメソッドは update バッチでは動きません。</p>
</div>
</div>
<div class="section" id="id10">
<h2><a class="toc-backref" href="#id24">データの削除</a><a class="headerlink" href="#id10" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><strong>$this-&gt;db-&gt;delete()</strong></p>
<p>SQL の DELETE 文を生成して実行します。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;delete(&#39;mytable&#39;, array(&#39;id&#39; =&gt; $id));  // 次を生成: // DELETE FROM mytable  // WHERE id = $id
</pre></div>
</div>
<p>第1引数はテーブル名で、第2引数は、WHERE
句です。次のように、メソッドの第2引数にデータを渡す代わりに、 where()
または or_where() メソッドを使うこともできます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;where(&#39;id&#39;, $id);
$this-&gt;db-&gt;delete(&#39;mytable&#39;);

// 次を生成:
// DELETE FROM mytable
// WHERE id = $id
</pre></div>
</div>
<p>1つよりも多いテーブルを削除したい場合は、delete()
にテーブル名の配列を渡すことができます</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$tables = array(&#39;table1&#39;, &#39;table2&#39;, &#39;table3&#39;);
$this-&gt;db-&gt;where(&#39;id&#39;, &#39;5&#39;);
$this-&gt;db-&gt;delete($tables);
</pre></div>
</div>
<p>テーブルの全データを削除したい場合は、 truncate() メソッドか
empty_table() が利用できます。</p>
<p><strong>$this-&gt;db-&gt;empty_table()</strong></p>
<p>「delete」 SQL 文字列 を生成し、クエリを
実行します。:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;empty_table(&#39;mytable&#39;); // 次を生成: DELETE FROM mytable
</pre></div>
</div>
<p><strong>$this-&gt;db-&gt;truncate()</strong></p>
<p>「truncate」 SQL 文字列を生成し、クエリを実行します。</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;from(&#39;mytable&#39;);
$this-&gt;db-&gt;truncate();

// または

$this-&gt;db-&gt;truncate(&#39;mytable&#39;);

// Produce:
// TRUNCATE mytable
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">If the TRUNCATE command isn&#8217;t available, truncate() will
execute as &#8220;DELETE FROM table&#8221;.</p>
</div>
<p><strong>$this-&gt;db-&gt;get_compiled_delete()</strong></p>
<p>このメソッドは <code class="docutils literal"><span class="pre">$this-&gt;db-&gt;get_compiled_insert()</span></code> とまったく同じように動作します。違いは
INSERT SQL 文字列のかわりに DELETE SQL 文字列を生成します。</p>
<p>詳しくは $this-&gt;db-&gt;get_compiled_insert() のドキュメントをご覧ください。</p>
</div>
<div class="section" id="id11">
<h2><a class="toc-backref" href="#id25">メソッドの連結</a><a class="headerlink" href="#id11" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>メソッドの連結を使えば、複数のメソッドをつなぐのがシンプルになります。
次のような例が挙げられます:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$query = $this-&gt;db-&gt;select(&#39;title&#39;)
                -&gt;where(&#39;id&#39;, $id)
                -&gt;limit(10, 20)
                -&gt;get(&#39;mytable&#39;);
</pre></div>
</div>
</div>
<div class="section" id="ar-caching">
<span id="id12"></span><h2><a class="toc-backref" href="#id26">クエリビルダ キャッシング</a><a class="headerlink" href="#ar-caching" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>&#8220;本当の&#8221; キャッシングではないのですが、クエリビルダ では、後で再利用
するためにクエリの特定の部分を保存（あるいは、&#8221;キャッシュ&#8221;）することができます。
通常は、クエリビルダ の呼び出しが完了したときには、保存された全情報は、
次の呼び出しのためにリセットされます。キャッシングを利用すると、
このリセットを回避することができ、情報を簡単に再利用できます。</p>
<p>キャッシュされた呼び出しは、累積されます。2回のキャッシュされた
select() を呼び出し、その後に 2回キャッシュされていないselect() を呼び出した場合、
4回 select() を呼び出したことになります。3つのキャッシュ関連メソッドが利用できます:</p>
<p><strong>$this-&gt;db-&gt;start_cache()</strong></p>
<p>このメソッドは、キャッシュを開始する際にコールされる必要があります。適合する
タイプ(サポートされるクエリについては下記をご覧ください)のすべての クエリビルダ クエリが、
後の使用のために保管されます。</p>
<p><strong>$this-&gt;db-&gt;stop_cache()</strong></p>
<p>このメソッドは、キャッシュを停止するときに呼ぶことができます。</p>
<p><strong>$this-&gt;db-&gt;flush_cache()</strong></p>
<p>このメソッドは、クエリビルダ キャッシュからすべてのアイテムを削除します。</p>
<div class="section" id="id13">
<h3>キャッシングの例<a class="headerlink" href="#id13" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>次は使用例です:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>$this-&gt;db-&gt;start_cache();
$this-&gt;db-&gt;select(&#39;field1&#39;);
$this-&gt;db-&gt;stop_cache();
$this-&gt;db-&gt;get(&#39;tablename&#39;);
//次のようになります: SELECT `field1` FROM (`tablename`)

$this-&gt;db-&gt;select(&#39;field2&#39;);
$this-&gt;db-&gt;get(&#39;tablename&#39;);
//次のようになります:  SELECT `field1`, `field2` FROM (`tablename`)

$this-&gt;db-&gt;flush_cache();
$this-&gt;db-&gt;select(&#39;field2&#39;);
$this-&gt;db-&gt;get(&#39;tablename&#39;);
//次のようになります:  SELECT `field2` FROM (`tablename`)
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">次のフィールドがキャッシュ可能です: select、from、join、
where、like、group_by、having、order_by</p>
</div>
</div>
</div>
<div class="section" id="id14">
<h2><a class="toc-backref" href="#id27">クエリビルダのリセット</a><a class="headerlink" href="#id14" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><strong>$this-&gt;db-&gt;reset_query()</strong></p>
<p>クエリビルダのリセットを使うと、クエリを $this-&gt;db-&gt;get() や $this-&gt;db-&gt;insert()
などで実行せずにゼロから始めることができます。
クエリを実行するメソッドのように、 <a class="reference internal" href="#id12">クエリビルダ キャッシング</a> によりキャッシュ
されたアイテムはリセット <em>されません</em> 。</p>
<p>これが有用な場面は、たとえば、クエリビルダでSQLを生成して
(例: <code class="docutils literal"><span class="pre">$this-&gt;db-&gt;get_compiled_select()</span></code>) 、そのあとにクエリを実行すると判断した
場合などです:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span>// get_compiled_select メソッドの第二引数が FALSE なのに注意してください
$sql = $this-&gt;db-&gt;select(array(&#39;field1&#39;,&#39;field2&#39;))
                                -&gt;where(&#39;field3&#39;,5)
                                -&gt;get_compiled_select(&#39;mytable&#39;, FALSE);

// ...
// SQL コードで何かすごく複雑なことをするとします... たとえば後で実行するため
// cron スクリプトに追加するなど...
// ...

$data = $this-&gt;db-&gt;get()-&gt;result_array();

// 次のクエリを実行し、結果の配列を返します:
// SELECT field1, field1 from mytable where field3 = 5;
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">クエリビルダのキャッシュ機能を使い、クエリをリセットせずに
<code class="docutils literal"><span class="pre">get_compiled_select()</span></code> を二回呼び出すと、キャッシュが2度マージされます。
それにより、たとえば <code class="docutils literal"><span class="pre">select()</span></code> をキャッシュしている場合、同じ
フィールドが2回 select されてしまいます。</p>
</div>
</div>
<div class="section" id="id15">
<h2><a class="toc-backref" href="#id28">クラスリファレンス</a><a class="headerlink" href="#id15" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="class">
<dt id="CI_DB_query_builder">
<em class="property">class </em><code class="descname">CI_DB_query_builder</code><a class="headerlink" href="#CI_DB_query_builder" title="この定義へのパーマリンク">¶</a></dt>
<dd><dl class="method">
<dt id="CI_DB_query_builder::reset_query">
<code class="descname">reset_query</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::reset_query" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返り値:</th><td class="field-body">CI_DB_query_builder インスタンス（メソッドチェイン）</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値の型:</th><td class="field-body">CI_DB_query_builder</td>
</tr>
</tbody>
</table>
<p>現在のクエリビルダ状態をリセット。ある特定条件下でキャンセルしたい
クエリを構築したい場合に有用です。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::start_cache">
<code class="descname">start_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::start_cache" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返り値:</th><td class="field-body">CI_DB_query_builder インスタンス（メソッドチェイン）</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値の型:</th><td class="field-body">CI_DB_query_builder</td>
</tr>
</tbody>
</table>
<p>クエリビルダのキャッシュを開始します。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::stop_cache">
<code class="descname">stop_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::stop_cache" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返り値:</th><td class="field-body">CI_DB_query_builder インスタンス（メソッドチェイン）</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値の型:</th><td class="field-body">CI_DB_query_builder</td>
</tr>
</tbody>
</table>
<p>クエリビルダのキャッシュを停止します。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::flush_cache">
<code class="descname">flush_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::flush_cache" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返り値:</th><td class="field-body">CI_DB_query_builder インスタンス（メソッドチェイン）</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値の型:</th><td class="field-body">CI_DB_query_builder</td>
</tr>
</tbody>
</table>
<p>クエリビルダのキャッシュを空にします。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::set_dbprefix">
<code class="descname">set_dbprefix</code><span class="sig-paren">(</span><span class="optional">[</span><em>$prefix = ''</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::set_dbprefix" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$prefix</strong> (<em>string</em>) &#8211; 新しく使うプリフィックス</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">使われているプリフィックス</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>データベースのプリフィックスを再接続せずに設定します。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::dbprefix">
<code class="descname">dbprefix</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::dbprefix" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; プリフィックスを追加するテーブル名</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">プリフィックスが追加されたテーブル名</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>データベースのプリフィックスが設定されている場合プリフィックスを追加します。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::count_all_results">
<code class="descname">count_all_results</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">[</span>, <em>$reset = TRUE</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::count_all_results" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; テーブル名</li>
<li><strong>$reset</strong> (<em>bool</em>) &#8211; SELECT の値をリセットするか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">クエリ結果の行数</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
<p>クエリビルダのクエリにより返された全レコードを数える
プラットフォーム固有のクエリ文字列を生成します。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::get">
<code class="descname">get</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">[</span>, <em>$limit = NULL</em><span class="optional">[</span>, <em>$offset = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::get" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; クエリするテーブル</li>
<li><strong>$limit</strong> (<em>int</em>) &#8211; LIMIT 句</li>
<li><strong>$offset</strong> (<em>int</em>) &#8211; OFFSET 句</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_result インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_result</p>
</td>
</tr>
</tbody>
</table>
<p>すでに呼ばれたクエリビルダのメソッドを元に生成された SELECT 文
をコンパイルして実行します。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::get_where">
<code class="descname">get_where</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">[</span>, <em>$where = NULL</em><span class="optional">[</span>, <em>$limit = NULL</em><span class="optional">[</span>, <em>$offset = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::get_where" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>mixed</em>) &#8211; データをフェッチするテーブル（複数可）; 文字列か配列</li>
<li><strong>$where</strong> (<em>string</em>) &#8211; WHERE 句</li>
<li><strong>$limit</strong> (<em>int</em>) &#8211; LIMIT 句</li>
<li><strong>$offset</strong> (<em>int</em>) &#8211; OFFSET 句</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_result インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_result</p>
</td>
</tr>
</tbody>
</table>
<p><code class="docutils literal"><span class="pre">get()</span></code> と同じですが、WHERE を直接追加できます。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::select">
<code class="descname">select</code><span class="sig-paren">(</span><span class="optional">[</span><em>$select = '*'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::select" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$select</strong> (<em>string</em>) &#8211; クエリの SELECT 部分</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに SELECT 句 を追加します。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::select_avg">
<code class="descname">select_avg</code><span class="sig-paren">(</span><span class="optional">[</span><em>$select = ''</em><span class="optional">[</span>, <em>$alias = ''</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::select_avg" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$select</strong> (<em>string</em>) &#8211; 平均値を計算するフィールド</li>
<li><strong>$alias</strong> (<em>string</em>) &#8211; 結果の値のエイリアス</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに SELECT AVG(field) 句 を追加します。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::select_max">
<code class="descname">select_max</code><span class="sig-paren">(</span><span class="optional">[</span><em>$select = ''</em><span class="optional">[</span>, <em>$alias = ''</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::select_max" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$select</strong> (<em>string</em>) &#8211; 最大値を計算するフィールド</li>
<li><strong>$alias</strong> (<em>string</em>) &#8211; 結果の値のエイリアス</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに SELECT MAX(field) 句 を追加します。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::select_min">
<code class="descname">select_min</code><span class="sig-paren">(</span><span class="optional">[</span><em>$select = ''</em><span class="optional">[</span>, <em>$alias = ''</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::select_min" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$select</strong> (<em>string</em>) &#8211; 最小値を計算するフィールド</li>
<li><strong>$alias</strong> (<em>string</em>) &#8211; 結果の値のエイリアス</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに SELECT MIN(field) 句 を追加します。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::select_sum">
<code class="descname">select_sum</code><span class="sig-paren">(</span><span class="optional">[</span><em>$select = ''</em><span class="optional">[</span>, <em>$alias = ''</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::select_sum" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$select</strong> (<em>string</em>) &#8211; 累計を計算するフィールド</li>
<li><strong>$alias</strong> (<em>string</em>) &#8211; 結果の値のエイリアス</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに SELECT SUM(field) 句 を追加します。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::distinct">
<code class="descname">distinct</code><span class="sig-paren">(</span><span class="optional">[</span><em>$val = TRUE</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::distinct" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$val</strong> (<em>bool</em>) &#8211; &#8220;distinct&#8221; フラグの値</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリビルダの SELECT 部分に DISTINCT 句を追加するか
判断するフラグを設定します。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::from">
<code class="descname">from</code><span class="sig-paren">(</span><em>$from</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::from" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$from</strong> (<em>mixed</em>) &#8211; テーブル名(複数可); 文字列か配列</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリの FROM 句 を指定します。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::join">
<code class="descname">join</code><span class="sig-paren">(</span><em>$table</em>, <em>$cond</em><span class="optional">[</span>, <em>$type = ''</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::join" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; join したいテーブル</li>
<li><strong>$cond</strong> (<em>string</em>) &#8211; JOIN ON 条件</li>
<li><strong>$type</strong> (<em>string</em>) &#8211; JOIN の種類</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>Adds a JOIN 句 to a query.</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::where">
<code class="descname">where</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::where" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) &#8211; 比較するフィールド名か、連想配列</li>
<li><strong>$value</strong> (<em>mixed</em>) &#8211; 単一のキーを指定した場合、この値に比較される</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">DB_query_builder インスタンス</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>クエリのWHERE部分を生成する。</dt>
<dd><cite>AND</cite> で複数のコールを分割する。</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::or_where">
<code class="descname">or_where</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::or_where" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) &#8211; 比較するフィールド名か、連想配列</li>
<li><strong>$value</strong> (<em>mixed</em>) &#8211; 単一のキーを指定した場合、この値に比較される</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">DB_query_builder インスタンス</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>クエリのWHERE部分を生成する。</dt>
<dd><cite>OR</cite> で複数のコールを分割する。</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::or_where_in">
<code class="descname">or_where_in</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">[</span>, <em>$values = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::or_where_in" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) &#8211; 検索するフィールド名</li>
<li><strong>$value</strong> (<em>mixed</em>) &#8211; 検索する値</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">DB_query_builder インスタンス</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
<p>クエリの WHERE IN(&#8216;item&#8217;, &#8216;item&#8217;) を生成する。
適宜 <cite>OR</cite> で結合する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::or_where_not_in">
<code class="descname">or_where_not_in</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">[</span>, <em>$values = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::or_where_not_in" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) &#8211; 検索するフィールド名</li>
<li><strong>$value</strong> (<em>mixed</em>) &#8211; 検索する値</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">DB_query_builder インスタンス</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
<p>クエリの WHERE NOT IN(&#8216;item&#8217;, &#8216;item&#8217;) を生成する。
適宜 <cite>OR</cite> で結合する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::where_in">
<code class="descname">where_in</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">[</span>, <em>$values = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::where_in" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) &#8211; 検索するフィールド名</li>
<li><strong>$values</strong> (<em>array</em>) &#8211; 対象の値の配列</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">DB_query_builder インスタンス</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
<p>クエリの WHERE IN(&#8216;item&#8217;, &#8216;item&#8217;) を生成する。
適宜 <cite>AND</cite> で結合する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::where_not_in">
<code class="descname">where_not_in</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">[</span>, <em>$values = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::where_not_in" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) &#8211; 検索するフィールド名</li>
<li><strong>$values</strong> (<em>array</em>) &#8211; 対象の値の配列</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">DB_query_builder インスタンス</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
<p>クエリの WHERE NOT IN(&#8216;item&#8217;, &#8216;item&#8217;) を生成する。
適宜 <cite>AND</cite> で結合する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::group_start">
<code class="descname">group_start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::group_start" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返り値:</th><td class="field-body">CI_DB_query_builder インスタンス（メソッドチェイン）</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値の型:</th><td class="field-body">CI_DB_query_builder</td>
</tr>
</tbody>
</table>
<p>group 表現を開始し、中の条件内は AND で結合する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::or_group_start">
<code class="descname">or_group_start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::or_group_start" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返り値:</th><td class="field-body">CI_DB_query_builder インスタンス（メソッドチェイン）</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値の型:</th><td class="field-body">CI_DB_query_builder</td>
</tr>
</tbody>
</table>
<p>group 表現を開始し、中の条件内は OR で結合する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::not_group_start">
<code class="descname">not_group_start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::not_group_start" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返り値:</th><td class="field-body">CI_DB_query_builder インスタンス（メソッドチェイン）</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値の型:</th><td class="field-body">CI_DB_query_builder</td>
</tr>
</tbody>
</table>
<p>group 表現を開始し、中の条件内は AND NOT で結合する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::or_not_group_start">
<code class="descname">or_not_group_start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::or_not_group_start" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返り値:</th><td class="field-body">CI_DB_query_builder インスタンス（メソッドチェイン）</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値の型:</th><td class="field-body">CI_DB_query_builder</td>
</tr>
</tbody>
</table>
<p>group 表現を開始し、中の条件内は OR NOT で結合する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::group_end">
<code class="descname">group_end</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::group_end" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返り値:</th><td class="field-body">DB_query_builder インスタンス</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値の型:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
<p>group 表現を終了する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::like">
<code class="descname">like</code><span class="sig-paren">(</span><em>$field</em><span class="optional">[</span>, <em>$match = ''</em><span class="optional">[</span>, <em>$side = 'both'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::like" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$field</strong> (<em>string</em>) &#8211; フィールド名</li>
<li><strong>$match</strong> (<em>string</em>) &#8211; マッチさせるテキスト</li>
<li><strong>$side</strong> (<em>string</em>) &#8211; 文のどの側に &#8216;%&#8217; ワイルドカードを挿入するか</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに LIKE 句を追加する。複数のコールは AND で分割する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::or_like">
<code class="descname">or_like</code><span class="sig-paren">(</span><em>$field</em><span class="optional">[</span>, <em>$match = ''</em><span class="optional">[</span>, <em>$side = 'both'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::or_like" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$field</strong> (<em>string</em>) &#8211; フィールド名</li>
<li><strong>$match</strong> (<em>string</em>) &#8211; マッチさせるテキスト</li>
<li><strong>$side</strong> (<em>string</em>) &#8211; 文のどの側に &#8216;%&#8217; ワイルドカードを挿入するか</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに LIKE 句を追加する。複数のコールは OR で分割する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::not_like">
<code class="descname">not_like</code><span class="sig-paren">(</span><em>$field</em><span class="optional">[</span>, <em>$match = ''</em><span class="optional">[</span>, <em>$side = 'both'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::not_like" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$field</strong> (<em>string</em>) &#8211; フィールド名</li>
<li><strong>$match</strong> (<em>string</em>) &#8211; マッチさせるテキスト</li>
<li><strong>$side</strong> (<em>string</em>) &#8211; 文のどの側に &#8216;%&#8217; ワイルドカードを挿入するか</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに NOT LIKE 句を追加する。複数のコールは AND で分割する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::or_not_like">
<code class="descname">or_not_like</code><span class="sig-paren">(</span><em>$field</em><span class="optional">[</span>, <em>$match = ''</em><span class="optional">[</span>, <em>$side = 'both'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::or_not_like" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$field</strong> (<em>string</em>) &#8211; フィールド名</li>
<li><strong>$match</strong> (<em>string</em>) &#8211; マッチさせるテキスト</li>
<li><strong>$side</strong> (<em>string</em>) &#8211; 文のどの側に &#8216;%&#8217; ワイルドカードを挿入するか</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに NOT LIKE 句を追加する。複数のコールは OR で分割する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::having">
<code class="descname">having</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::having" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) &#8211; 識別子（文字列）か、フィールド／値の連想配列</li>
<li><strong>$value</strong> (<em>string</em>) &#8211; $key が識別子の場合の値</li>
<li><strong>$escape</strong> (<em>string</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに HAVING 句を追加する。複数のコールは AND で分割する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::or_having">
<code class="descname">or_having</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::or_having" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) &#8211; 識別子（文字列）か、フィールド／値の連想配列</li>
<li><strong>$value</strong> (<em>string</em>) &#8211; $key が識別子の場合の値</li>
<li><strong>$escape</strong> (<em>string</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに HAVING 句を追加する。複数のコールは OR で分割する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::group_by">
<code class="descname">group_by</code><span class="sig-paren">(</span><em>$by</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::group_by" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$by</strong> (<em>mixed</em>) &#8211; グループするフィールド（複数可）；文字列か配列</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに GROUP BY 句を追加する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::order_by">
<code class="descname">order_by</code><span class="sig-paren">(</span><em>$orderby</em><span class="optional">[</span>, <em>$direction = ''</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::order_by" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$orderby</strong> (<em>string</em>) &#8211; ソートするフィールド</li>
<li><strong>$direction</strong> (<em>string</em>) &#8211; 指定の順序 - ASC, DESC, かランダム</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに ORDER BY 句を追加する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::limit">
<code class="descname">limit</code><span class="sig-paren">(</span><em>$value</em><span class="optional">[</span>, <em>$offset = 0</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::limit" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$value</strong> (<em>int</em>) &#8211; 結果を制限する行数</li>
<li><strong>$offset</strong> (<em>int</em>) &#8211; スキップする行数</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに LIMIT と OFFSET 句を追加する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::offset">
<code class="descname">offset</code><span class="sig-paren">(</span><em>$offset</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::offset" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$offset</strong> (<em>int</em>) &#8211; スキップする行数</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p>クエリに OFFSET 句を追加する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::set">
<code class="descname">set</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = ''</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::set" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) &#8211; フィールド名か、フィールド／値の配列</li>
<li><strong>$value</strong> (<em>string</em>) &#8211; $key が単一フィールドの場合の値</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p><code class="docutils literal"><span class="pre">insert()</span></code>, <code class="docutils literal"><span class="pre">update()</span></code>, か <code class="docutils literal"><span class="pre">replace()</span></code> に渡される
フィールド／値を追加する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::insert">
<code class="descname">insert</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">[</span>, <em>$set = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::insert" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; テーブル名</li>
<li><strong>$set</strong> (<em>array</em>) &#8211; フィールド／値の連想配列</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">成功の場合 TRUE, 失敗の場合 FALSE</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>INSERT 文をコンパイルして実行する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::insert_batch">
<code class="descname">insert_batch</code><span class="sig-paren">(</span><em>$table</em><span class="optional">[</span>, <em>$set = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">[</span>, <em>$batch_size = 100</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::insert_batch" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; テーブル名</li>
<li><strong>$set</strong> (<em>array</em>) &#8211; 挿入するデータ</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
<li><strong>$batch_size</strong> (<em>int</em>) &#8211; 一度に挿入する行数</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">挿入された行数か、失敗時は FALSE</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>複数の <code class="docutils literal"><span class="pre">INSERT</span></code> 文のバッチをコンパイルして実行する。</p>
<p>..note:: <code class="docutils literal"><span class="pre">$batch_size</span></code> より多くの行数が渡された場合、
複数の <code class="docutils literal"><span class="pre">INSERT</span></code> クエリが実行され、それぞれ <code class="docutils literal"><span class="pre">$batch_size</span></code> 行数
まで挿入を試みる。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::set_insert_batch">
<code class="descname">set_insert_batch</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = ''</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::set_insert_batch" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) &#8211; フィールド名か、フィールド名／値の配列</li>
<li><strong>$value</strong> (<em>string</em>) &#8211; $key が単一フィールドの場合のフィールド値</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p><code class="docutils literal"><span class="pre">insert_batch()</span></code> で挿入されるべきフィールド／値を追加。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">[</span>, <em>$set = NULL</em><span class="optional">[</span>, <em>$where = NULL</em><span class="optional">[</span>, <em>$limit = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::update" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; テーブル名</li>
<li><strong>$set</strong> (<em>array</em>) &#8211; フィールド／値の連想配列</li>
<li><strong>$where</strong> (<em>string</em>) &#8211; WHERE 句</li>
<li><strong>$limit</strong> (<em>int</em>) &#8211; LIMIT 句</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">成功の場合 TRUE, 失敗の場合 FALSE</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>UPDATE 文をコンパイルして実行。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::update_batch">
<code class="descname">update_batch</code><span class="sig-paren">(</span><em>$table</em><span class="optional">[</span>, <em>$set = NULL</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">[</span>, <em>$batch_size = 100</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::update_batch" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; テーブル名</li>
<li><strong>$set</strong> (<em>array</em>) &#8211; フィールド名か、フィールド／値の連想配列</li>
<li><strong>$value</strong> (<em>string</em>) &#8211; $set が単一フィールドの場合のフィールド値</li>
<li><strong>$batch_size</strong> (<em>int</em>) &#8211; 単一のクエリでまとめる条件文の数</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">更新された行数か、失敗の場合 FALSE</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>複数の UPDATE 文のバッチをコンパイルして実行する。</p>
<p>..note:: <code class="docutils literal"><span class="pre">$batch_size</span></code> より多くの行数が渡された場合、
複数のクエリが実行され、それぞれ <code class="docutils literal"><span class="pre">$batch_size</span></code> のフィールド／値ペア
の分だけ操作を行う。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::set_update_batch">
<code class="descname">set_update_batch</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = ''</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::set_update_batch" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) &#8211; フィールド名か、フィールド名／値の配列</li>
<li><strong>$value</strong> (<em>string</em>) &#8211; $key が単一フィールドの場合のフィールド値</li>
<li><strong>$escape</strong> (<em>bool</em>) &#8211; 値や識別子をエスケープするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">CI_DB_query_builder</p>
</td>
</tr>
</tbody>
</table>
<p><code class="docutils literal"><span class="pre">update_batch()</span></code> で更新されるべきフィールド／値を追加。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::replace">
<code class="descname">replace</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">[</span>, <em>$set = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::replace" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; テーブル名</li>
<li><strong>$set</strong> (<em>array</em>) &#8211; フィールド／値の連想配列</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">成功の場合 TRUE, 失敗の場合 FALSE</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>REPLACE 文をコンパイルして実行。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::delete">
<code class="descname">delete</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">[</span>, <em>$where = ''</em><span class="optional">[</span>, <em>$limit = NULL</em><span class="optional">[</span>, <em>$reset_data = TRUE</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::delete" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>mixed</em>) &#8211; 削除するテーブル（複数可）。文字列か配列。</li>
<li><strong>$where</strong> (<em>string</em>) &#8211; WHERE 句</li>
<li><strong>$limit</strong> (<em>int</em>) &#8211; LIMIT 句</li>
<li><strong>$reset_data</strong> (<em>bool</em>) &#8211; クエリの &#8220;write&#8221; 句をリセットするには TRUE</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">CI_DB_query_builder インスタンス（メソッドチェイン）or FALSE on failure</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>DELETE クエリをコンパイルして実行。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::truncate">
<code class="descname">truncate</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::truncate" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; テーブル名</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">成功の場合 TRUE, 失敗の場合 FALSE</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>テーブルに TRUNCATE を実行。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">もしデータベースプラットフォームが TRUNCATE をサポートしてない場合、
代わりに DELETE 文が使用されます。</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::empty_table">
<code class="descname">empty_table</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::empty_table" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; テーブル名</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">成功の場合 TRUE, 失敗の場合 FALSE</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>DELETE 文でテーブルから全レコードを削除する。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::get_compiled_select">
<code class="descname">get_compiled_select</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">[</span>, <em>$reset = TRUE</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::get_compiled_select" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; テーブル名</li>
<li><strong>$reset</strong> (<em>bool</em>) &#8211; 現在のクエリビルダ値をリセットするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">コンパイルされた SQL 文の文字列</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>SELECT 文をコンパイルして文字列として返す。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::get_compiled_insert">
<code class="descname">get_compiled_insert</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">[</span>, <em>$reset = TRUE</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::get_compiled_insert" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; テーブル名</li>
<li><strong>$reset</strong> (<em>bool</em>) &#8211; 現在のクエリビルダ値をリセットするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">コンパイルされた SQL 文の文字列</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>INSERT 文をコンパイルして文字列として返す。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::get_compiled_update">
<code class="descname">get_compiled_update</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">[</span>, <em>$reset = TRUE</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::get_compiled_update" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; テーブル名</li>
<li><strong>$reset</strong> (<em>bool</em>) &#8211; 現在のクエリビルダ値をリセットするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">コンパイルされた SQL 文の文字列</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>UPDATE 文をコンパイルして文字列として返す。</p>
</dd></dl>

<dl class="method">
<dt id="CI_DB_query_builder::get_compiled_delete">
<code class="descname">get_compiled_delete</code><span class="sig-paren">(</span><span class="optional">[</span><em>$table = ''</em><span class="optional">[</span>, <em>$reset = TRUE</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_DB_query_builder::get_compiled_delete" title="この定義へのパーマリンク">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) &#8211; テーブル名</li>
<li><strong>$reset</strong> (<em>bool</em>) &#8211; 現在のクエリビルダ値をリセットするかどうか</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返り値:</th><td class="field-body"><p class="first">コンパイルされた SQL 文の文字列</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返り値の型:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>DELETE 文をコンパイルして文字列として返す。</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="transactions.html" class="btn btn-neutral float-right" title="トランザクション">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="helpers.html" class="btn btn-neutral" title="クエリヘルパーメソッド"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014 - 2016, British Columbia Institute of Technology.
      最終更新: 9月 06, 2016
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.2.0-dev',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>